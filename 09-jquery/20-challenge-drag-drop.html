<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>20-challenge-drag-drop</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="css/animate.min.css">
    <style>
        main ul li { color: #fffb; }
    </style>
</head>
<body class="jquery">
    <nav>
        <a href="index.html">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="#ffffff" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
        </a>
    </nav>
    <main>
        <header>
            <h1>20-challenge-drag-drop</h1>
            <p>Create a drag-and-drop interface.</p>
        </header>
        <section>
            <div class="columnst" style="width: 360px; margin: 20px auto; display: grid; grid-template-columns: repeat(3, 120px); grid-auto-rows: 150px; gap: 0;">
                <div class="stage stage1" style="border:1px dashed #4f5c6e;"></div>
                <div class="stage stage2" style="border:1px dashed #4f5c6e;"></div>
                <div class="stage stage3" style="border:1px dashed #4f5c6e;"></div>
                <div class="pk pk1" id="pk01" style="background:#e2f2ff;border:1px solid #4f5c6e;"></div>
                <div class="pk pk1" id="pk02" style="background:#e2f2ff;border:1px solid #4f5c6e;"></div>
                <div class="pk pk1" id="pk03" style="background:#e2f2ff;border:1px solid #4f5c6e;"></div>
                <div class="pk pk1" id="pk04" style="background:#e2f2ff;border:1px solid #4f5c6e;"></div>
                <div style="border:1px dashed transparent;"></div>
                <div style="border:1px dashed transparent;"></div>
            </div>
        </section>
    </main>
    <script src="js/jquery-3.7.1.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script>
$(document).ready(function() {
            $('.pk').draggable({
                containment: '.columnst',
                cursor: 'move',
                snap: '.stage',
                snapMode: 'inner',
                grid: [120,150],
                revert: 'invalid'
            });
            $('.stage2').droppable({
                accept: '.pk1',
                drop: function(evt, ui) {
                    $ui = $(ui.draggable);
                    $ui.removeClass('pk1').addClass('pk2 animate__pulse');
                    $ni = parseInt($ui.attr('id').substring(4,2))+1;
                    $ui.attr('id', 'pk'+$ni);
                }
            });
            $('.stage3').droppable({
                accept: '.pk2',
                drop: function(evt, ui) {
                    $ui = $(ui.draggable);
                    $ui.removeClass('pk2').addClass('pk3 animate__tada');
                    $ni = parseInt($ui.attr('id').substring(4,2))+1;
                    $ui.attr('id', 'pk'+$ni);
                }
            });
        });
    </script>
</body>
</html>
